<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Block æ¢ç©¶</title>
<meta name="description" content="Describe your website">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" href="https://Relax-M.github.io/css/bootstrap.min.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
<link rel="stylesheet" href="https://Relax-M.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="https://Relax-M.github.io/css/owl.carousel.css">
<link rel="stylesheet" href="https://Relax-M.github.io/css/owl.theme.css">


  <link href="https://Relax-M.github.io/css/style.default.css" rel="stylesheet" id="theme-stylesheet">

 

  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


<link href="https://Relax-M.github.io/css/custom.css" rel="stylesheet">
<link rel="shortcut icon" href="https://Relax-M.github.io/img/favicon.png">


</head>
<body>
  <div id="all">
      <div class="container-fluid">
          <div class="row row-offcanvas row-offcanvas-left">
              <div id="sidebar" class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
  <div class="sidebar-content">
    <img src="https://Relax-M.github.io/img/header.jpg" alt="" class="sidebar-headerimage">
    <h1 class="sidebar-heading"><a href="https://Relax-M.github.io/">Relax</a></h1>
    
      <p class="sidebar-p">ğŸŒâ˜ï¸</p>
    
      <p class="sidebar-p">As humans, we tend to overestimate what we can do in one day, and underestimate what we can do in a long period of time.</p>
    
    <ul class="sidebar-menu">
      
        <li><a href="https://Relax-M.github.io/portfolio/">Home</a></li>
      
        <li><a href="https://Relax-M.github.io/about/">About</a></li>
      
    </ul>
    <p class="social">
  
  
  
  
  
  
  
  
  <a href="https://github.com/Relax-M" data-animate-hover="pulse" class="external">
    <i class="fa fa-github"></i>
  </a>
  
  
  
</p>


    
      
        
          
        
        
      
    
  </div>
</div>

              
<div class="col-xs-12 col-sm-8 col-md-9 content-column white-background">
  <div class="small-navbar visible-xs">
  <button type="button" data-toggle="offcanvas" class="btn btn-ghost pull-left"> <i class="fa fa-align-left"> </i>Menu</button>
  <h1 class="small-navbar-heading"><a href="https://Relax-M.github.io/">Relax</a></h1>
</div>

  <div class="row">
    <div class="col-lg-8">
      <div class="content-column-content">
         <h1>Block æ¢ç©¶</h1>
         <p><img src="http://ptyj5p18v.bkt.clouddn.com/block_ios.png" alt="" /></p>

<h4 id="1-æ¦‚è¦">1.æ¦‚è¦</h4>

<blockquote>
<p><font color=#84d5cf>å¸¦æœ‰è‡ªåŠ¨å˜é‡ï¼ˆå±€éƒ¨å˜é‡ï¼‰çš„åŒ¿åå‡½æ•°</font></p>
</blockquote>

<p>ç®€å•æ¥è¯´å°±æ˜¯åœ¨Blockçš„ä¸€å¯¹{}ä½œç”¨åŸŸé‡Œä½¿ç”¨åˆ°ä½†å´åœ¨{}ä½œç”¨åŸŸä»¥å¤–å£°æ˜çš„å˜é‡æ²¡æœ‰å‡½æ•°åçš„å‡½æ•°</p>

<p>Block æ˜¯ Objective-C å¯¹äºé—­åŒ…çš„å®ç°ã€‚é—­åŒ… = ä¸€ä¸ªå‡½æ•°ã€Œæˆ–æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆã€+ è¯¥å‡½æ•°æ‰§è¡Œçš„å¤–éƒ¨çš„ä¸Šä¸‹æ–‡å˜é‡ã€Œä¹Ÿå°±æ˜¯è‡ªç”±å˜é‡ã€</p>

<h4 id="2-è¯­æ³•">2.è¯­æ³•</h4>

<blockquote>
<p><font color=#84d5cf>^ è¿”å›å€¼ç±»å‹ (å‚æ•°åˆ—è¡¨) {è¡¨è¾¾å¼}</font></p>
</blockquote>

<pre><code>  int (^blk)(int) = ^int(int count) {
        return count + 1;
    };
</code></pre>

<ul>
<li>çœç•¥è¿”å›å€¼ç±»å‹</li>
</ul>

<blockquote>
<p><font color=#84d5cf>^ (å‚æ•°åˆ—è¡¨) { è¡¨è¾¾å¼ };</font></p>
</blockquote>

<pre><code>  int (^blk)(int) = ^(int count) {
        return count + 1;
    };
</code></pre>

<ul>
<li>çœç•¥å‚æ•°åˆ—è¡¨<br /></li>
</ul>

<blockquote>
<p><font color=#84d5cf>^ è¿”å›å€¼ç±»å‹ (void) { è¡¨è¾¾å¼ };</font></p>
</blockquote>

<pre><code>   int (^blk2)(void) = ^int{
        return 0;
    };
</code></pre>

<ul>
<li>çœç•¥è¿”å›å€¼ç±»å‹ã€å‚æ•°åˆ—è¡¨ï¼š</li>
</ul>

<blockquote>
<p><font color=#84d5cf>^ { è¡¨è¾¾å¼ };</font></p>
</blockquote>

<pre><code>  void (^blk)(void) = ^{
        NSLog(@&quot;Blocks&quot;);
    };
</code></pre>

<h4 id="3-å®è´¨">3.å®è´¨</h4>

<p>Blockè¯­æ³•çœ‹ä¸Šå»å¥½åƒå¾ˆç‰¹åˆ«ï¼ŒBlockå®é™…ä¸Šæ˜¯ä½œä¸ºææ™®é€šçš„Cè¯­è¨€æºç æ¥å¤„ç†çš„ï¼šå«æœ‰Blockè¯­æ³•çš„æºç é¦–å…ˆè¢«è½¬æ¢æˆCè¯­è¨€ç¼–è¯‘å™¨èƒ½å¤„ç†çš„æºç ï¼Œå†ä½œä¸ºæ™®é€šçš„Cæºä»£ç è¿›è¡Œç¼–è¯‘ã€‚</p>

<blockquote>
<p><font color=#84d5cf>clang -rewrite-objc æºç æ–‡ä»¶å</font></p>
</blockquote>

<h4 id="4-æˆªè·è‡ªåŠ¨å˜é‡">4.æˆªè·è‡ªåŠ¨å˜é‡</h4>

<p>å¯¹äº block ä½œç”¨åŸŸå¤–çš„å˜é‡å¼•ç”¨ï¼Œblock é»˜è®¤æ˜¯å°†å…¶å¤åˆ¶åˆ°å…¶æ•°æ®ç»“æ„ä¸­æ¥å®ç°è®¿é—®çš„ã€‚ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯é»˜è®¤æƒ…å†µä¸‹blockåªèƒ½è®¿é—®ä¸èƒ½ä¿®æ”¹å±€éƒ¨å˜é‡çš„å€¼ã€‚</p>

<p>é‚£å¦‚æœåªæ˜¯å•çº¯çš„è®¿é—®ï¼Œå±€é™æ€§å¤ªå¤§ï¼Œé‚£ä¹ˆå¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿ</p>

<blockquote>
<p><font color=#d6339a>__block </font> ä¿®é¥°æŒ‡å®šblockä¸­æƒ³å˜æ›´å€¼çš„è‡ªåŠ¨å˜é‡</p>
</blockquote>

<p>æˆ‘ä»¬å¯ä»¥å‘ç°ç”¨ <font color=#d6339a>__block </font> ä¿®é¥°çš„å˜é‡ç±»å‹æ˜¯ä¸€ä¸ªç»“æ„ä½“å®ä¾‹</p>

<p><img src="http://ptyj5p18v.bkt.clouddn.com/__Block_byref_val_0.png" alt="" /></p>

<p><font color=#d6339a> __Block_byref_val_0 </font>ç»“æ„ä½“å®ä¾‹çš„æˆå‘˜å˜é‡<font color=#d6339a> __forwarding </font>æŒæœ‰æŒ‡å‘è¯¥å®ä¾‹è‡ªèº«çš„æŒ‡é’ˆï¼Œé€šè¿‡æˆå‘˜å˜é‡ <font color=#d6339a> __forwarding </font>è®¿é—®æˆå‘˜å˜é‡ <font color=#d6339a>val</font></p>

<h4 id="5-å­˜å‚¨åŸŸ">5.å­˜å‚¨åŸŸ</h4>

<p>é€šè¿‡å‰é¢è¯´æ˜å¯çŸ¥ï¼ŒBlockè½¬æ¢ä¸ºBlockçš„ç»“æ„ä½“ç±»å‹çš„è‡ªåŠ¨å˜é‡ï¼Œ<font color=#d6339a> __block </font>å˜é‡è½¬æ¢ä¸º <font color=#d6339a> __block </font> å˜é‡çš„ç»“æ„ä½“ç±»å‹çš„è‡ªåŠ¨å˜é‡ã€‚æ‰€è°“ç»“æ„ä½“ç±»å‹çš„è‡ªåŠ¨å˜é‡ï¼Œå³æ ˆä¸Šç”Ÿæˆçš„è¯¥ç»“æ„ä½“çš„å®ä¾‹</p>

<p><img src="http://ptyj5p18v.bkt.clouddn.com/block_save.png" alt="" /></p>

<p>å¦‚ä¸Šå›¾Blockå­˜å‚¨åŸŸæœ‰ä¸‰ç§ç±»å‹ï¼Œ</p>

<h5 id="nsconcreteglobalblock">NSConcreteGlobalBlock</h5>

<ul>
<li>å…¨å±€åŒºåŸŸå£°æ˜å®šä¹‰ä¸€ä¸ªblock</li>
<li>blockè¡¨è¾¾å¼ä¸­æ²¡æœ‰ä½¿ç”¨æ•è·çš„è‡ªåŠ¨å˜é‡æ—¶</li>
</ul>

<h5 id="nsconcretestackblock">NSConcreteStackBlock</h5>

<ul>
<li>æ ˆå—å­˜åœ¨äºæ ˆå†…å­˜ä¸­, è¶…å‡ºå…¶ä½œç”¨åŸŸåˆ™é©¬ä¸Šè¢«é”€æ¯,ä¸ä¼šæŒæœ‰å¯¹è±¡</li>
</ul>

<h5 id="nsconcretemallocblock">NSConcreteMallocBlock</h5>

<ul>
<li>å †å—å­˜åœ¨äºå †å†…å­˜ä¸­, æ˜¯ä¸€ä¸ªå¸¦å¼•ç”¨è®¡æ•°çš„å¯¹è±¡, éœ€è¦è‡ªè¡Œç®¡ç†å…¶å†…å­˜,ä¼šæŒæœ‰å¯¹è±¡</li>
</ul>

<p>å¼€å¯ARCæ—¶ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ç¼–è¯‘å™¨ä¼šæ°å½“åœ°è¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰éœ€è¦å°†Blockä»æ ˆå¤åˆ¶åˆ°å †ï¼Œå¦‚æœæœ‰ï¼Œè‡ªåŠ¨ç”Ÿæˆå°†Blockä»æ ˆä¸Šå¤åˆ¶åˆ°å †ä¸Šçš„ä»£ç ã€‚<font color=#d6339a> __block </font>å˜é‡ç”¨ç»“æ„ä½“æˆå‘˜å˜é‡<font color=#d6339a> __forwarding </font>å¯ä»¥å®ç°æ— è®º<font color=#d6339a> __block </font>å˜é‡é…ç½®åœ¨æ ˆä¸Šè¿˜æ˜¯å †ä¸Šéƒ½èƒ½å¤Ÿæ­£ç¡®çš„è®¿é—®<font color=#d6339a> __block </font>å˜é‡</p>

<p>ä»¥ä¸‹ä¸¤ç§æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œä¼šè¿›è¡Œè‡ªåŠ¨æ‹·è´</p>

<ul>
<li>Cocoa æ¡†æ¶çš„æ–¹æ³•ä¸”æ–¹æ³•åä¸­å«æœ‰ usingBlock ç­‰æ—¶</li>
<li>Grand Central Dispatchï¼ˆGCDï¼‰ çš„ API</li>
</ul>

<p>é‚£ä¹ˆç¼–è¯‘å™¨ä¸èƒ½è¿›è¡Œåˆ¤æ–­ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ ·çš„æƒ…å†µå‘¢ï¼Ÿ</p>

<ul>
<li>å‘æ–¹æ³•æˆ–å‡½æ•°çš„å‚æ•°ä¸­ä¼ é€’Block</li>
</ul>

<p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<font color=#d6339a> â€copy å®ä¾‹æ–¹æ³•â€œï¼ˆalloc / new / copy / mutableCopyï¼‰</font>æ‰‹åŠ¨æ‹·è´</p>

<p><img src="http://ptyj5p18v.bkt.clouddn.com/block_copy.png" alt="" /></p>

<h4 id="6-block-æ¢ç©¶">6.Block æ¢ç©¶</h4>

<p>é€šè¿‡ä¸Šé¢çš„è½¬æ¢ï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£Block</p>

<pre><code>- (void)modifyVarBlock
{
    __block int val = 0;
    void (^ modifyVarBlk)(void) = ^(){
        val = 1;
    };
    modifyVarBlk();
}
</code></pre>

<pre><code class="language-c">static void _I_Block_modifyVarBlock(Block * self, SEL _cmd) {
    __attribute__((__blocks__(byref))) __Block_byref_val_0 val = {(void*)0,(__Block_byref_val_0 *)&amp;val, 0, sizeof(__Block_byref_val_0), 0};
    void (* modifyVarBlk)(void) = ((void (*)())&amp;__Block__modifyVarBlock_block_impl_0((void *)__Block__modifyVarBlock_block_func_0, &amp;__Block__modifyVarBlock_block_desc_0_DATA, (__Block_byref_val_0 *)&amp;val, 570425344));
    ((void (*)(__block_impl *))((__block_impl *)modifyVarBlk)-&gt;FuncPtr)((__block_impl *)modifyVarBlk);
}
</code></pre>

<blockquote>
<p><font color=#84d5cf>OCæ–¹æ³•è½¬æ¢å…·ä½“å®ç°</font></p>
</blockquote>

<pre><code class="language-cpp">/* Block ç»“æ„ä½“ */
struct __Block__modifyVarBlock_block_impl_0 {
// implï¼šBlock çš„å®é™…å‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘åŒ…å« Block ä¸»ä½“éƒ¨åˆ†çš„ __main_block_func_0 ç»“æ„ä½“
  struct __block_impl impl;
  // Descï¼šDesc æŒ‡é’ˆï¼ŒæŒ‡å‘åŒ…å« Block é™„åŠ ä¿¡æ¯çš„ __main_block_desc_0ï¼ˆï¼‰ ç»“æ„ä½“
  struct __Block__modifyVarBlock_block_desc_0* Desc;
  __Block_byref_val_0 *val; 
   // __main_block_impl_0ï¼šBlock æ„é€ å‡½æ•° è´Ÿè´£åˆå§‹åŒ–ç»“æ„ä½“ï¼ˆBlock ç»“æ„ä½“ï¼‰ çš„æˆå‘˜å˜é‡
  __Block__modifyVarBlock_block_impl_0(void *fp, struct __Block__modifyVarBlock_block_desc_0 *desc, __Block_byref_val_0 *_val, int flags=0) : val(_val-&gt;__forwarding) {
    impl.isa = &amp;_NSConcreteStackBlock;
    impl.Flags = flags;
    impl.FuncPtr = fp;
    Desc = desc;
  }
};
</code></pre>

<blockquote>
<p><font color=#84d5cf>æˆå‘˜å˜é‡ impl;
æˆå‘˜å˜é‡ Desc æŒ‡é’ˆ;
__main_block_impl_0 æ„é€ å‡½æ•°.</font></p>
</blockquote>

<pre><code class="language-cpp">/* åŒ…å« Block å®é™…å‡½æ•°æŒ‡é’ˆçš„ç»“æ„ä½“ */
struct __block_impl {
    void *isa;Â  Â  Â  Â  Â  Â  Â // ç”¨äºä¿å­˜ BlockÂ ç»“æ„ä½“çš„å®ä¾‹æŒ‡é’ˆ
Â    int Flags;Â  Â  Â  Â  Â  Â  // æ ‡å¿—ä½
Â    int Reserved;Â  Â Â Â  Â Â // ä»Šåç‰ˆæœ¬å‡çº§æ‰€éœ€çš„åŒºåŸŸå¤§å°
Â    void *FuncPtr;Â  Â  Â  //Â å‡½æ•°æŒ‡é’ˆ
};
</code></pre>

<pre><code class="language-c">static void __Block__modifyVarBlock_block_func_0(struct __Block__modifyVarBlock_block_impl_0 *__cself) {
  __Block_byref_val_0 *val = __cself-&gt;val; // bound by ref
        (val-&gt;__forwarding-&gt;val) = 1;
}
</code></pre>

<blockquote>
<p><font color=#84d5cf>è¿™æ˜¯ä¸€ä¸ªå‡½æ•°çš„å®ç°ï¼Œå¯¹åº”Blockä¸­{}å†…çš„å†…å®¹ï¼Œè¿™äº›å†…å®¹è¢«å½“åšäº†Cè¯­è¨€å‡½æ•°æ¥å¤„ç†ï¼Œå‡½æ•°å‚æ•°ä¸­çš„__cselfç›¸å½“äºObjective-Cä¸­çš„selfã€‚ç»“æ„ä½“çš„æŒ‡é’ˆ</font></p>
</blockquote>

<pre><code class="language-cpp">static struct __Block__modifyVarBlock_block_desc_0 {
  size_t reserved;
  size_t Block_size;
  
  void (*copy)(struct __Block__modifyVarBlock_block_impl_0*, struct __Block__modifyVarBlock_block_impl_0*);
  void (*dispose)(struct __Block__modifyVarBlock_block_impl_0*);
} __Block__modifyVarBlock_block_desc_0_DATA = { 0, sizeof(struct __Block__modifyVarBlock_block_impl_0), __Block__modifyVarBlock_block_copy_0, __Block__modifyVarBlock_block_dispose_0};

static void __Block__modifyVarBlock_block_copy_0(struct __Block__modifyVarBlock_block_impl_0*dst, struct __Block__modifyVarBlock_block_impl_0*src) {
    _Block_object_assign((void*)&amp;dst-&gt;val, (void*)src-&gt;val, 8/*BLOCK_FIELD_IS_BYREF*/);
}

static void __Block__modifyVarBlock_block_dispose_0(struct __Block__modifyVarBlock_block_impl_0*src) {
    _Block_object_dispose((void*)src-&gt;val, 8/*BLOCK_FIELD_IS_BYREF*/);
}
</code></pre>

<blockquote>
<p><font color=#84d5cf>blockçš„é™„åŠ æè¿°ä¿¡æ¯ï¼Œæ¯”å¦‚blockçš„å¤§å°ã€è¿›è¡Œcopyæˆ–disposeçš„è¾…åŠ©å‡½æ•°æŒ‡é’ˆ</font></p>
</blockquote>

<p>blockè¢«æ‹·è´åˆ°å †ä¸Šï¼Œä¼šè°ƒç”¨blockå†…éƒ¨çš„copyå‡½æ•°ï¼Œcopyå‡½æ•°å†…éƒ¨ä¼šè°ƒç”¨<font color=#d6339a> __ Block_object_assign</font>å‡½æ•°ï¼Œæ ¹æ®autoå˜é‡çš„ä¿®é¥°ç¬¦ï¼ˆ<strong>strongã€</strong>weakã€__unsafe_unretainedï¼‰åšå‡ºç›¸åº”çš„æ“ä½œï¼Œå½¢æˆå¼ºå¼•ç”¨ï¼ˆretainï¼‰æˆ–è€…å¼±å¼•ç”¨</p>

<p>blockä»å †ä¸Šç§»é™¤ï¼Œä¼šè°ƒç”¨blockå†…éƒ¨çš„disposeå‡½æ•°ï¼Œdisposeå‡½æ•°å†…éƒ¨ä¼šè°ƒç”¨<font color=#d6339a>__Block_object_dispose</font>å‡½æ•°ï¼ŒåŠ¨é‡Šæ”¾å¼•ç”¨çš„autoå˜é‡ï¼ˆreleaseï¼‰</p>

<pre><code class="language-cpp">struct __Block_byref_val_0 {
  void *__isa; //æ ‡è¯†å¯¹è±¡ç±»çš„ isa å®ä¾‹å˜é‡
__Block_byref_val_0 *__forwarding;//ä¼ å…¥å˜é‡çš„åœ°å€
 int __flags;//æ ‡å¿—ä½
 int __size;//ç»“æ„ä½“å¤§å°
 int val;//å­˜æ”¾å®ä¾‹å˜é‡ val å®é™…çš„å€¼ï¼Œç›¸å½“äºåŸå±€éƒ¨å˜é‡çš„æˆå‘˜å˜é‡ï¼ˆå’Œä¹‹å‰ä¸åŠ __blockä¿®é¥°ç¬¦çš„æ—¶å€™ä¸€è‡´ï¼‰
};
</code></pre>

<p><img src="http://ptyj5p18v.bkt.clouddn.com/block_forwarding.png" alt="" /></p>

<blockquote>
<p><font color=#84d5cf> __ forwardingæŒæœ‰æŒ‡å‘è¯¥å®ä¾‹è‡ªèº«çš„æŒ‡é’ˆï¼Œé€šè¿‡æˆå‘˜å˜é‡__forwardingè®¿é—®æˆå‘˜å˜é‡val</font></p>
</blockquote>

<p>æ ˆä¸Šçš„<font color=#d6339a><strong>block</font>å˜é‡ç”¨ç»“æ„ä½“å®ä¾‹åœ¨<font color=#d6339a></strong>block</font>å˜é‡ä»æ ˆå¤åˆ¶åˆ°å †ä¸Šï¼Œä¼šå°†æˆå‘˜å˜é‡<font color=#d6339a><strong>forwarding</font>çš„å€¼æ›¿æ¢ä¸ºå¤åˆ¶ç›®æ ‡å †ä¸Šçš„<font color=#d6339a></strong>block</font>å˜é‡ç»“æ„ä½“å®ä¾‹åœ°å€ï¼Œé¡ºåˆ©è®¿é—®åŒä¸€ä¸ª<font color=#d6339a>__block</font>å˜é‡
<img src="http://ptyj5p18v.bkt.clouddn.com/block_forwarding_copy.png" alt="" /></p>

<h4 id="7-å¾ªç¯å¼•ç”¨">7.å¾ªç¯å¼•ç”¨</h4>

<p>å¦‚æœåœ¨Blockä¸­ä½¿ç”¨é™„æœ‰__strongä¿®é¥°ç¬¦çš„å¯¹è±¡ç±»å‹è‡ªåŠ¨å˜é‡ï¼Œå½“Blockä»æ ˆå¤åˆ¶åˆ°å †æ—¶ï¼Œè¯¥å¯¹è±¡ä¸ºBlockæ‰€æŒæœ‰ï¼Œåœ¨æ—¥å¸¸ä»£ç ä¹¦å†™ä¸­æ³¨æ„ä»£ç ä¸­çš„å¾ªç¯å¼•ç”¨</p>

<h5 id="arc">ARC</h5>

<ul>
<li><font color=#d6339a>__weak typeof(Class) weakSelf = Class;</font></li>
<li>Reactive Cocoaä¸­çš„<font color=#d6339a> @weakify </font>å’Œ<font color=#d6339a> @strongify </font></li>
</ul>

<h5 id="mrc">MRC</h5>

<ul>
<li><font color=#d6339a>__block typeof(Class) weakSelf = Class;</font></li>
</ul>

<h4 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h4>

<ul>
<li>ä¹¦ç±ï¼šã€Objective-C é«˜çº§ç¼–ç¨‹ â€” Blocksã€</li>
<li>åšæ–‡ï¼š <a href="https://bujige.net/blog/iOS-Blocks-01.html">iOS å¼€å‘ï¼šã€Blocksã€è¯¦å°½æ€»ç»“</a>














<br /></li>
</ul>
         
      </div>
    </div>
  </div>
</div>

          </div>
      </div>
  </div>
  <script src="https://Relax-M.github.io/js/jquery.min.js"></script>
<script src="https://Relax-M.github.io/js/bootstrap.min.js"></script>
<script src="https://Relax-M.github.io/js/jquery.cookie.js"> </script>
<script src="https://Relax-M.github.io/js/ekko-lightbox.js"></script>
<script src="https://Relax-M.github.io/js/jquery.scrollTo.min.js"></script>
<script src="https://Relax-M.github.io/js/masonry.pkgd.min.js"></script>
<script src="https://Relax-M.github.io/js/imagesloaded.pkgd.min.js"></script>
<script src="https://Relax-M.github.io/js/owl.carousel.min.js"></script>
<script src="https://Relax-M.github.io/js/front.js"></script>



</body>
</html>
